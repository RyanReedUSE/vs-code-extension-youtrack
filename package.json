{
  "name": "vs-code-extension-youtrack",
  "displayName": "VC Code Extension YouTrack",
  "description": "An extension for viewing YouTrack issues within VS Code",
  "version": "0.0.1",
  "publisher": "ryanreeduse",
  "enableProposedApi": true,
  "engines": {
    "vscode": "^1.52.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onView:currentIssues",
    "onView:searchIssues",
    "onCommand:youtrack.viewConfig"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "youtrack-issues",
          "title": "YouTrack Issues",
          "icon": "media/dep.svg"
        }
      ]
    },
    "views": {
      "youtrack-issues": [
        {
          "id": "currentIssues",
          "name": "Current Issues",
          "icon": "media/dep.svg",
          "contextualTitle": "Current YouTrack Issues"
        },
        {
          "id": "searchIssues",
          "name": "Search Issues",
          "contextualTitle": "Search YouTrack Issues"
        }
      ]
    },
    "commands": [
      {
        "command": "youtrack.currentIssues.refresh",
        "title": "Refresh",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/refresh.svg",
          "dark": "resources/dark/refresh.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.view",
        "title": "View Issue",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/preview.svg",
          "dark": "resources/dark/preview.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.pin",
        "title": "Pin Issue",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/pinned.svg",
          "dark": "resources/dark/pinned.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.unpin",
        "title": "Unpin Issue",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/pinned-dirty.svg",
          "dark": "resources/dark/pinned-dirty.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.addIssue",
        "title": "Add Issue",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/add.svg",
          "dark": "resources/dark/add.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.editIssue",
        "title": "Edit Issue Online",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/edit.svg",
          "dark": "resources/dark/edit.svg"
        }
      },
      {
        "command": "youtrack.currentIssues.addTime",
        "title": "Add Time",
        "category": "YouTrack"
      },
      {
        "command": "youtrack.currentIssues.configureSettings",
        "title": "Configure Settings",
        "category": "YouTrack",
        "icon": {
          "light": "resources/light/gear.svg",
          "dark": "resources/dark/gear.svg"
        }
      },
      {
        "command": "youtrack.viewConfig",
        "title": "Show WebView",
        "category": "Webview React"
      }
    ],
    "menus": {
      "commandPalette": [],
      "view/title": [
        {
          "command": "youtrack.currentIssues.refresh",
          "when": "view == currentIssues",
          "group": "navigation"
        },
        {
          "command": "youtrack.currentIssues.addIssue",
          "when": "view == currentIssues",
          "group": "navigation"
        },
        {
          "command": "youtrack.currentIssues.unpin",
          "when": "view == currentIssues",
          "group": "navigation"
        },
        {
          "command": "youtrack.currentIssues.configureSettings",
          "when": "view == currentIssues",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "youtrack.currentIssues.editIssue",
          "when": "view == currentIssues && viewItem == issue",
          "group": "inline"
        },
        {
          "command": "youtrack.currentIssues.pin",
          "when": "view == currentIssues && viewItem == issue",
          "group": "inline"
        },
        {
          "command": "youtrack.currentIssues.addTime",
          "when": "view == currentIssues && viewItem == issue"
        }
      ]
    },
    "configuration": {
      "title": "YouTrack Issues",
      "properties": {
        "youtrack.host": {
          "type": "string",
          "default": "https://xyz-site.myjetbrains.com/youtrack/",
          "description": "The YouTrack server host address and path. Example: https://xyz-site.myjetbrains.com/youtrack/"
        },
        "youtrack.permanentToken": {
          "type": "string",
          "default": "",
          "description": "A permanent token allows access to a service with the permissions that are granted to the user account. This a more secure way to access the YouTrack REST API without the need to store a username and password. Instructions to generate a token can be found at https://www.jetbrains.com/help/youtrack/standalone/Manage-Permanent-Token.html#obtain-permanent-token"
        },
        "youtrack.currentIssuesQuery": {
          "type": "string",
          "default": "Assignee: me -Resolved order by: created",
          "description": "The filter to be used on the current issues query. Typically, this would be set to the current user's assigned issues. However, it can been user defined by the user if they want to adjust it to include certain query parameters. Default: Assignee: me -Unresolved"
        },
        "youtrack.maxResponseCount": {
          "type": "number",
          "default": 20,
          "description": "The maximum number of entries that are returned in the response. Default: 20"
        }
      }
    },
    "viewsWelcome": [
      {
        "view": "currentIssues",
        "contents": "No search results. Ensure you have the settings configured correctly. \n\n[Configure Settings](command:youtrack.currentIssues.configureSettings)"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "npm-run-all compile:*",
    "watch": "npm-run-all -p watch:*",
    "compile:extension": "tsc -p ./",
    "compile:views": "webpack --mode development",
    "watch:extension": "tsc -watch -p ./",
    "watch:views": "webpack --watch --mode development",
    "postinstall": "node ./node_modules/vscode/bin/install",
    "test": "npm run compile && node ./node_modules/vscode/bin/test",
    "lint": "eslint . --ext .ts,.tsx",
    "build:css": "postcss src/style/tailwind.css -o src/style/main.css",
    "build:watch": "postcss src/style/tailwind.css -o src/style/main.css --watch"
  },
  "devDependencies": {
    "@types/mkdirp": "^0.5.2",
    "@types/mocha": "^2.2.42",
    "@types/node": "^12.12.0",
    "@types/react": "^17.0.0",
    "@types/react-dom": "^17.0.0",
    "@types/rimraf": "^2.0.2",
    "@types/vscode": "^1.52.0",
    "@typescript-eslint/eslint-plugin": "^3.0.2",
    "@typescript-eslint/parser": "^3.0.2",
    "css-loader": "^3.0.0",
    "eslint": "^7.1.0",
    "npm-run-all": "^4.1.5",
    "style-loader": "^0.23.1",
    "ts-loader": "^6.0.4",
    "tslint": "^5.12.1",
    "typescript": "^4.0.2",
    "webpack": "^4.35.2",
    "webpack-cli": "^3.3.5"
  },
  "dependencies": {
    "autoprefixer": "^9.8.6",
    "axios": "^0.21.1",
    "ftp": "^0.3.10",
    "jsonc-parser": "^0.4.2",
    "luxon": "^1.25.0",
    "minimist": "^0.2.1",
    "mkdirp": "^0.5.1",
    "moment": "^2.29.1",
    "postcss": "^8.2.4",
    "postcss-cli": "^8.3.1",
    "react": "^17.0.1",
    "react-dom": "^17.0.1",
    "react-markdown": "^5.0.3",
    "remark-gfm": "^1.0.0",
    "rimraf": "^2.6.2",
    "tailwindcss": "^2.0.2",
    "vscode-test": "^1.4.1"
  }
}
